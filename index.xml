<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Alex's Blog</title><link>/</link><description>Recent content on Alex's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 13 Jun 2021 19:33:00 +1100</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml"/><item><title>记一次对sql的调试和优化(Postgres query planner)</title><link>/posts/sql/</link><pubDate>Sun, 13 Jun 2021 19:33:00 +1100</pubDate><guid>/posts/sql/</guid><description>最近在工作中碰到一个很有趣的sql问题。几乎同样的raw sql，最后执行出来的时间居然相差百倍不止。通过对这个问题的调试研究，对sql的执行过程（postgres）以及相应的优化有了更深的认识。</description></item><item><title>系统调用open时到底发生了什么？（Linux内核学习笔记）</title><link>/posts/linux/</link><pubDate>Mon, 21 Dec 2020 16:50:11 +1100</pubDate><guid>/posts/linux/</guid><description>在计算中系统中，最重要的有三类资源，分别是cpu, memory, disk，他们也是编程语言经常需要打交道的三类资源。比如cpu对应了语言的并发性(例如GO以高并发著称)，memory则涉及到语言的垃圾回收的机制，disk则是涉及到创建文件/删除文件等。应该说相比前两者，disk的部分是相对简单的。以python为例，一个简单的打开/创建文件，写入“hello world”，然后关闭文件的程序代码如下：</description></item><item><title>什么是好的架构？</title><link>/posts/goodarch/</link><pubDate>Tue, 04 Aug 2020 19:58:11 +1100</pubDate><guid>/posts/goodarch/</guid><description>使用AWS的云服务也有好几年了，最近在准备aws certified solution architect的考试。中间不仅对aws cloud的大大小小的功能系统的复习了一遍，同时也读了不少aws的白皮书。 这些天来一个问题又慢慢浮现在我的脑海中，挥之不去。到底什么是好的架构，或者说好的架构有什么特点？ 之前一直有在思考这方面的问题，也读过不少优秀的博客。印象中许多架构师的分享都是介绍如何利用各种框架技术实现高可用/高可靠性，高性能的服务。在大开眼界的同时，也给我一个感觉，只要掌握了各种优秀框架技术（适用场景以及利弊等）就可以作出好的架构。这次系统的看了aws的各种白皮书，让我又重新思考什么是好的架构，并且有了新的认识。</description></item><item><title>记一次生产服务器debug(下)</title><link>/posts/debug2/</link><pubDate>Mon, 20 Apr 2020 09:17:22 +1100</pubDate><guid>/posts/debug2/</guid><description>在上一篇我们分析服务器的异常情况，并对导致异常的原因有了一个初步的判断。但是我们漏掉了一个关键的线索没有具体的分析，那就是cpu steal time。</description></item><item><title>记一次生产服务器debug(上)</title><link>/posts/debug1/</link><pubDate>Tue, 14 Apr 2020 10:27:22 +1100</pubDate><guid>/posts/debug1/</guid><description>&lt;ol>
&lt;li>17:18分，nginx的error日志里开始出现upstream 110 connection timeout的记录。2. 17:22分， netdata开始报警20min steal cpu = 18.2%， 并很快上升31.8%。 3. 17:27分， 群里开始有人报告相应服务不能访问。 4. 17:30分， 远程登录服务器后发现cpu使用率非常的高（主要是node server在占用），基本在80-100使用率，但是服务器的访问量并不高。&lt;/li>
&lt;/ol></description></item><item><title>关于服务优化的调研和思考</title><link>/posts/performance/</link><pubDate>Sat, 11 Apr 2020 11:14:22 +1100</pubDate><guid>/posts/performance/</guid><description>最近某台服务器的cpu使用率一直居高不下，直接导致用户等待时间增加，用户体验明显变差。甚至还出现了服务器几乎当机的情况。所以想研究一下有没有办法通过代码层面优化的方式减少cpu的使用率。</description></item><item><title>Fallocate的那些事</title><link>/posts/fallocate/</link><pubDate>Sat, 14 Mar 2020 17:14:11 +1100</pubDate><guid>/posts/fallocate/</guid><description>fallocate是linux中的一个system call，他的主要作用是分配硬盘区块（block allocation）。我最初接触到这个命令是在本地测试一个程序的bug，这个bug需要在硬盘满了的时候才会触发。当时的硬盘空间还绰绰有余，需要想个办法把它快速填满。我知道linux中有个叫dd的命令可以往硬盘里写入指定大小的文件，我之前创建swap的时候就是用这个命令。但是这个命令用于创建大文件来说太久了。于是我想起之前在stackoverflow看到的另一个命令fallocate。据介绍，这个命令比dd快的多。一用之下，果然如此。</description></item><item><title>记一次服务器事故以及对架构的一些思考</title><link>/posts/architecture/</link><pubDate>Sun, 23 Feb 2020 21:30:11 +1100</pubDate><guid>/posts/architecture/</guid><description>在2020.02.20的早上8点半左右有用户报告网站无法访问，8点40分收到通知，赶紧通过手机访问网站确认，主站的前端服务器出了问题。于是紧急通过远程连接登录到aws的云端服务器，发现服务器仍然在运行，排除EC2服务器挂掉的情况。接着查node server， 发现PM2还在运行，但是application已经挂掉。 于是怀疑是硬盘空间不足。一查硬盘空间，果然已经满了。于是马上通过aws的console加空间，然后重启服务器。重启服务器以及相关应用后，服务器于8点49分恢复正常访问。</description></item><item><title>通过架设wireguard我学到了什么</title><link>/posts/wireguard/</link><pubDate>Sun, 24 Nov 2019 12:39:11 +1100</pubDate><guid>/posts/wireguard/</guid><description>最早接触wireguard应该是一年前左右的时候。当时觉得openvpn使用起来不是很稳定，想找一些更好的vpn开源程序。而且当时我也对vpn技术感兴趣，想找一个state of art来学习一下。于是wireguard就进入了我的眼帘。了解到wiredguard甚至进入了linux内核后，更加让我下定决心要花时间去学习架设这个vpn。虽然网上的教程很多，而且wireguard也是以容易架设著称，但是我的架设之路并不是一帆风顺。因为对wireguard不熟悉，也踩了不少坑，走了不少弯路。</description></item><item><title>OWASP TOP 10(2017)</title><link>/posts/owasp/</link><pubDate>Sat, 21 Sep 2019 17:21:11 +1100</pubDate><guid>/posts/owasp/</guid><description>《OWASP Top 10 - 2017 The Ten Most Critical Web Application Security Risks》总结了Web应用程序最可能、最常见、最危险的十大漏洞。虽然离报告发布已经过去了两年，但是这份报告对web安全介绍还是十分有意义的。尤其是对于刚入门web安全的工程师来说，这份报告是一个非常好的指南，可以帮助IT公司和开发团队规范应用程序开发流程和测试流程，提高Web产品的安全性。本文将会根据这些漏洞类型，进行分类分析，并提出一些我个人的看法。最后会根据这套报告，对一些网站进行测试。</description></item><item><title>如何搭建一个充满漏洞的网站</title><link>/posts/exploit/</link><pubDate>Thu, 19 Sep 2019 19:39:11 +1100</pubDate><guid>/posts/exploit/</guid><description>最近了解到了一个叫strace的神器，可以看到程序运行时的系统调用。于是写了个简单程序来做分析。这篇文章主要分析一个简单的c程序（如上）在运行时所需要的系统调用。但是不会深入分析系统调用的具体实现，如果有兴趣可以看我写的另一篇文章《一个系统调用的linux内核(v5.25)实现》, 里面有详细分析setdomainname的系统调用的内核实现。这里主要从更高的层次去分析，程序运行时为什么需要这些系统调用。</description></item><item><title>一个系统调用的linux内核实现</title><link>/posts/systemcall/</link><pubDate>Fri, 23 Aug 2019 19:39:11 +1100</pubDate><guid>/posts/systemcall/</guid><description>前一篇文章研究分析了一个简单c程序运行时所需的系统调用。而这篇文章则主要分析，系统调用setdomainname时，到底发生了什么？</description></item><item><title>一个简单的c程序在linux下所需要的系统调用</title><link>/posts/setdomainname/</link><pubDate>Tue, 20 Aug 2019 19:39:11 +1100</pubDate><guid>/posts/setdomainname/</guid><description>最近了解到了一个叫strace的神器，可以看到程序运行时的系统调用。于是写了个简单程序来做分析。这篇文章主要分析一个简单的c程序（如上）在运行时所需要的系统调用。但是不会深入分析系统调用的具体实现，如果有兴趣可以看我写的另一篇文章《一个系统调用的linux内核(v5.25)实现》, 里面有详细分析setdomainname的系统调用的内核实现。这里主要从更高的层次去分析，程序运行时为什么需要这些系统调用。</description></item><item><title>Quickjs UAF漏洞分析，利用以及修复</title><link>/posts/quickjs/</link><pubDate>Thu, 01 Aug 2019 21:47:00 +1100</pubDate><guid>/posts/quickjs/</guid><description>Quickjs是一个轻量的js引擎，先放张benchmark。可以看到作为一个轻量的js引擎，Quickjs是十分优秀的。在评分上甚至和Hermes这种重型js引擎并驾齐驱。虽然和v8相比还是有不小差距，但是毕竟是一个人开发的，而且相比v8，Quickjs才620kb。</description></item><item><title>对DoS（Denial Of Service）攻击初探索</title><link>/posts/dos/</link><pubDate>Sun, 07 Jul 2019 18:33:00 +1100</pubDate><guid>/posts/dos/</guid><description>最近刷微博的时候看到一篇写的很有趣的文章《“记一次被DDoS敲诈的历程”》, 像看故事一样，我一口气把它看完了。作为一个后端程序员，我对DoS攻击早有耳闻，也对这一块的攻防技术和原理充满兴趣。这篇文章一下子让我想起来之前看到过的一系列关于DoS的文章，比如《DDoS 攻击的防范教程》, 《DD4BC：一个专门用DDoS敲诈勒索比特币的黑客组织》, 《Linux 内核 SCTP 协议漏洞分析与复现 （CVE-2019-8956）》, 《GitHub已遭基于Memcached的DDoS攻击 规模达1.35Tbps》。这次我打算自己对DoS(包含DDoS)这块进行一次系统的探索，而这篇文章就是探索中的一些记录。</description></item><item><title>如何确认Email是否真实存在</title><link>/posts/emailverification/</link><pubDate>Sun, 30 Jun 2019 20:17:00 +1100</pubDate><guid>/posts/emailverification/</guid><description>最近公司在做promotion,导致有许多刷注册的帐号。这些帐号都留下虚假的邮箱，导致发送确认邮箱的邮件经常无法送达，导致bounce rate提高了不少，甚至一度超过aws ses的警戒线。根据aws的规定，超过一定界限，会停止发送邮件的服务。为了防止被禁用，如何识别这些虚假邮箱，降低bounce rate就成了我需要解决的问题。</description></item></channel></rss>